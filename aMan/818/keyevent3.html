<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>

        #div1 { width: 100px; height: 100px; background-color: red; position: absolute; left: 0; top: 0;}
        .butt { width: 8px; height: 4px; position: absolute; top: 0; left: 100px; background-color: red}
    </style>
</head>
<body>

<div id="div1"></div>
<script src="base.js"></script>
<script>

    /*想用键盘控制div 向下移动*/


    var oDiv = document.getElementById("div1");

    window.onkeydown=function (event) {


        console.log(event.keyCode);

        if(event.keyCode == 40){
            /*获取当前的top值，*/
            var iTop = parseInt(getStyle(oDiv,"top"));

            /*每次都让当前的top值+5*/
            oDiv.style.top = iTop + 5 +"px";
        }else if(event.keyCode == 38){
            /*上*/
            /*获取当前的top值，*/
            var iTop = parseInt(getStyle(oDiv,"top"));

            console.log(iTop);
            /*每次都让当前的top值+5*/
            oDiv.style.top = iTop - 5 +"px";
        }
        /*复位 ctrl + a*/
        if(event.ctrlKey && event.keyCode == 65){
            /*按ctrl 和 a 的时候*/
            oDiv.style.top = 0+"px";
            oDiv.style.left = 0+"px";
        }
        /*变色  ctrl + alt + c*/
        if(event.ctrlKey && event.altKey && event.keyCode == 67){
          //  alert("变随机色");
            var red = Math.round(Math.random()*255);
            var green = Math.round(Math.random()*255);
            var blue = Math.round(Math.random()*255);
            // parseInt = 0-254
            // round =  0 - 255
            oDiv.style.backgroundColor="rgba("+red+","+green+","+blue+",0.6)"
        }
        if(event.keyCode == 32){
            var oBox = document.createElement("div");
            oBox.className = "butt";
            oBox.style.top = oDiv.offsetTop+oDiv.offsetHeight/2-2+"px";
            document.body.appendChild(oBox);
            move(oBox);
        }
    };
    function move(obj) {
        setTimeout(function () {

            var iL = parseInt(getStyle(obj,"left"));
            /*每次都让当前的top值+5*/
            obj.style.left = iL + 20 +"px";
            if(iL<=800){
                move(obj)
            }
        },80)
    }


</script>
</body>
</html>